WARNING: You are currently using Node.js v22.19.0, which is not supported by Hardhat. This can lead to unexpected behavior. See https://hardhat.org/nodejs-versions


[dotenv@17.2.3] injecting env (3) from .env -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops


  Ethers Check
Ethers type: object
Ethers keys: [
  'version',
  'decodeBytes32String',
  'encodeBytes32String',
  'AbiCoder',
  'ConstructorFragment',
  'ErrorFragment',
  'EventFragment',
  'Fragment',
  'FallbackFragment',
  'FunctionFragment',
  'NamedFragment',
  'ParamType',
  'StructFragment',
  'checkResultErrors',
  'ErrorDescription',
  'Indexed',
  'Interface',
  'LogDescription',
  'Result',
  'TransactionDescription',
  'Typed',
  'getAddress',
  'getIcapAddress',
  'getCreateAddress',
  'getCreate2Address',
  'isAddressable',
  'isAddress',
  'resolveAddress',
  'ZeroAddress',
  'WeiPerEther',
  'MaxUint256',
  'MinInt256',
  'MaxInt256',
  'N',
  'ZeroHash',
  'EtherSymbol',
  'MessagePrefix',
  'BaseContract',
  'Contract',
  'ContractFactory',
  'ContractEventPayload',
  'ContractTransactionReceipt',
  'ContractTransactionResponse',
  'ContractUnknownEventPayload',
  'EventLog',
  'UndecodedEventLog',
  'computeHmac',
  'randomBytes',
  'keccak256',
  'ripemd160',
  'sha256',
  'sha512',
  'pbkdf2',
  'scrypt',
  'scryptSync',
  'lock',
  'Signature',
  'SigningKey',
  'id',
  'ensNormalize',
  'isValidName',
  'namehash',
  'dnsEncode',
  'hashAuthorization',
  'verifyAuthorization',
  'hashMessage',
  'verifyMessage',
  'solidityPacked',
  'solidityPackedKeccak256',
  'solidityPackedSha256',
  'TypedDataEncoder',
  'verifyTypedData',
  'getDefaultProvider',
  'Block',
  'FeeData',
  'Log',
  'TransactionReceipt',
  'TransactionResponse',
  'AbstractSigner',
  'NonceManager',
  'VoidSigner',
  'AbstractProvider',
  'FallbackProvider',
  'JsonRpcApiProvider',
  'JsonRpcProvider',
  'JsonRpcSigner',
  'BrowserProvider',
  'AlchemyProvider',
  'AnkrProvider',
  'BlockscoutProvider',
  'ChainstackProvider',
  'CloudflareProvider',
  'EtherscanProvider',
  'InfuraProvider',
  'InfuraWebSocketProvider',
  'PocketProvider',
  'QuickNodeProvider',
  'IpcSocketProvider',
  'SocketProvider',
  'WebSocketProvider',
  ... 102 more items
]
Is getSigners defined? function
    Γ£ö Should have getSigners

  Debug HRE keys
HRE keys: [
  'config',
  'hardhatArguments',
  'tasks',
  'scopes',
  'userConfig',
  'version',
  'run',
  'artifacts',
  'network',
  '_environmentExtenders',
  'ethers',
  'ignition',
  'upgrades',
  'defender'
]
HRE.ethers keys: [
  'version',
  'decodeBytes32String',
  'encodeBytes32String',
  'AbiCoder',
  'ConstructorFragment',
  'ErrorFragment',
  'EventFragment',
  'Fragment',
  'FallbackFragment',
  'FunctionFragment',
  'NamedFragment',
  'ParamType',
  'StructFragment',
  'checkResultErrors',
  'ErrorDescription',
  'Indexed',
  'Interface',
  'LogDescription',
  'Result',
  'TransactionDescription',
  'Typed',
  'getAddress',
  'getIcapAddress',
  'getCreateAddress',
  'getCreate2Address',
  'isAddressable',
  'isAddress',
  'resolveAddress',
  'ZeroAddress',
  'WeiPerEther',
  'MaxUint256',
  'MinInt256',
  'MaxInt256',
  'N',
  'ZeroHash',
  'EtherSymbol',
  'MessagePrefix',
  'BaseContract',
  'Contract',
  'ContractFactory',
  'ContractEventPayload',
  'ContractTransactionReceipt',
  'ContractTransactionResponse',
  'ContractUnknownEventPayload',
  'EventLog',
  'UndecodedEventLog',
  'computeHmac',
  'randomBytes',
  'keccak256',
  'ripemd160',
  'sha256',
  'sha512',
  'pbkdf2',
  'scrypt',
  'scryptSync',
  'lock',
  'Signature',
  'SigningKey',
  'id',
  'ensNormalize',
  'isValidName',
  'namehash',
  'dnsEncode',
  'hashAuthorization',
  'verifyAuthorization',
  'hashMessage',
  'verifyMessage',
  'solidityPacked',
  'solidityPackedKeccak256',
  'solidityPackedSha256',
  'TypedDataEncoder',
  'verifyTypedData',
  'getDefaultProvider',
  'Block',
  'FeeData',
  'Log',
  'TransactionReceipt',
  'TransactionResponse',
  'AbstractSigner',
  'NonceManager',
  'VoidSigner',
  'AbstractProvider',
  'FallbackProvider',
  'JsonRpcApiProvider',
  'JsonRpcProvider',
  'JsonRpcSigner',
  'BrowserProvider',
  'AlchemyProvider',
  'AnkrProvider',
  'BlockscoutProvider',
  'ChainstackProvider',
  'CloudflareProvider',
  'EtherscanProvider',
  'InfuraProvider',
  'InfuraWebSocketProvider',
  'PocketProvider',
  'QuickNodeProvider',
  'IpcSocketProvider',
  'SocketProvider',
  'WebSocketProvider',
  ... 102 more items
]
    Γ£ö Should log hre keys

  FreelanceEscrow Verification
    1) Should initialize correctly and grant roles
    2) Should create a job with milestones and release them
    3) Should deduct platform fees upon full fund release
    4) Should allow client to reclaim funds after deadline

  FreelanceEscrow Production Features
    5) "before each" hook for "Should handle pull-based refunds for unselected freelancers"

  PolyToken
    Deployment
      Γ£ö Should set the right owner
      Γ£ö Should assign the total supply of tokens to the owner
      Γ£ö Should have a total supply of 1 billion
    Transactions
      Γ£ö Should transfer tokens between accounts
      Γ£ö Should fail if sender doesn't have enough tokens

  PolyLance Production Suite
    Full Job Lifecycle (ERC20)
      6) "before each" hook for "Processes a standard job from creation to completion with SBTs and Reputation"


  7 passing (2s)
  6 failing

  1) FreelanceEscrow Verification
       Should initialize correctly and grant roles:
     TypeError: escrow.ARBITRATOR_ROLE is not a function
      at Context.<anonymous> (test\FreelanceEscrow.test.js:38:50)

  2) FreelanceEscrow Verification
       Should create a job with milestones and release them:
     TypeError: escrow.connect(...).createJobWithMilestones is not a function
      at Context.<anonymous> (test\FreelanceEscrow.test.js:47:38)

  3) FreelanceEscrow Verification
       Should deduct platform fees upon full fund release:
     Error: no matching fragment (operation="fragment", info={ "args": [ "0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC", "0x0000000000000000000000000000000000000000", 1000000000000000000, "ipfs://hash", 0, { "value": 1000000000000000000 } ], "key": "createJob" }, code=UNSUPPORTED_OPERATION, version=6.16.0)
      at makeError (node_modules\ethers\src.ts\utils\errors.ts:698:21)
      at assert (node_modules\ethers\src.ts\utils\errors.ts:719:25)
      at getFragment (node_modules\ethers\src.ts\contract\contract.ts:270:15)
      at Proxy.createJob (node_modules\ethers\src.ts\contract\contract.ts:350:26)
      at Context.<anonymous> (test\FreelanceEscrow.test.js:74:38)

  4) FreelanceEscrow Verification
       Should allow client to reclaim funds after deadline:
     Error: no matching fragment (operation="fragment", info={ "args": [ "0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC", "0x0000000000000000000000000000000000000000", 1000000000000000000, "ipfs://hash", 1, { "value": 1000000000000000000 } ], "key": "createJob" }, code=UNSUPPORTED_OPERATION, version=6.16.0)
      at makeError (node_modules\ethers\src.ts\utils\errors.ts:698:21)
      at assert (node_modules\ethers\src.ts\utils\errors.ts:719:25)
      at getFragment (node_modules\ethers\src.ts\contract\contract.ts:270:15)
      at Proxy.createJob (node_modules\ethers\src.ts\contract\contract.ts:350:26)
      at Context.<anonymous> (test\FreelanceEscrow.test.js:104:38)

  5) FreelanceEscrow Production Features
       "before each" hook for "Should handle pull-based refunds for unselected freelancers":
     TypeError: escrow.setVault is not a function
      at Context.<anonymous> (test\FreelanceEscrow_Production.test.js:38:22)

  6) PolyLance Production Suite
       "before each" hook for "Processes a standard job from creation to completion with SBTs and Reputation":
     TypeError: escrow.setPolyToken is not a function
      at Context.<anonymous> (test\Production.test.js:73:22)



